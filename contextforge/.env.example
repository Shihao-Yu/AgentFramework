# FAQ/Knowledge Base System - Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Application Settings
# =============================================================================
APP_NAME="FAQ Knowledge Base"
DEBUG=false

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL connection string (async driver)
# Format: postgresql+asyncpg://user:password@host:port/database
CONTEXT_DB_URL=postgresql+asyncpg://postgres:password@localhost:5432/faq_knowledge_base

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# =============================================================================
# Search Settings
# =============================================================================
# Weights for hybrid search (must sum to 1.0)
SEARCH_BM25_WEIGHT=0.4
SEARCH_VECTOR_WEIGHT=0.6

# Default number of results
SEARCH_DEFAULT_LIMIT=10

# =============================================================================
# CORS Settings
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# =============================================================================
# Embedding Service (TODO: Replace with your implementation)
# =============================================================================
# Example for OpenAI-compatible API:
# EMBEDDING_API_URL=https://api.openai.com/v1/embeddings
# EMBEDDING_API_KEY=your-api-key
# EMBEDDING_MODEL=text-embedding-3-small
# EMBEDDING_DIMENSION=1024

# =============================================================================
# Inference Service (TODO: Replace with your implementation)
# =============================================================================
# Example for OpenAI-compatible API:
# INFERENCE_API_URL=https://api.openai.com/v1/chat/completions
# INFERENCE_API_KEY=your-api-key
# INFERENCE_MODEL=gpt-4o-mini

# =============================================================================
# Ticket Source (TODO: Replace with your implementation)
# =============================================================================
# Example for ClickHouse:
# CLICKHOUSE_HOST=localhost
# CLICKHOUSE_PORT=9000
# CLICKHOUSE_DATABASE=tickets
# CLICKHOUSE_USER=default
# CLICKHOUSE_PASSWORD=

# =============================================================================
# Pipeline Settings
# =============================================================================
# Similarity thresholds
PIPELINE_SKIP_THRESHOLD=0.95
PIPELINE_VARIANT_THRESHOLD=0.85
PIPELINE_MERGE_THRESHOLD=0.70

# Quality thresholds
PIPELINE_CONFIDENCE_THRESHOLD=0.7
PIPELINE_MIN_BODY_LENGTH=30
